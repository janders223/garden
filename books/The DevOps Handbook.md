# The DevOps Handbook

## Gene Kim, Patrick Debois, Jez Humble, John Willis

#books
#kindle

![](https://images-na.ssl-images-amazon.com/images/I/51WMrr2knUL._SL2000_.jpg)

### Highlights from July 26, 2021

- success in modern technical endeavors absolutely requires multiple perspectives and expertise to collaborate. ([Location 491](https://readwise.io/to_kindle?action=open&asin=B01M9ASFQ3&location=491))
- By adding the expertise of QA, IT Operations, and Infosec into delivery teams and automated self-service tools and platforms, teams are able to use that expertise in their daily work without being dependent on other teams. ([Location 506](https://readwise.io/to_kindle?action=open&asin=B01M9ASFQ3&location=506))
- This allows organizations to maximize developer productivity, enable organizational learning, create high employee satisfaction, and win in the marketplace. ([Location 509](https://readwise.io/to_kindle?action=open&asin=B01M9ASFQ3&location=509))
- Today, organizations adopting DevOps principles and practices often deploy changes hundreds or even thousands of times per day. In an age where competitive advantage requires fast time to market and relentless experimentation, organizations that are unable to replicate these outcomes are destined to lose in the marketplace to more nimble competitors and could potentially go out of business entirely, much like the manufacturing organizations that did not adopt Lean principles. ([Location 537](https://readwise.io/to_kindle?action=open&asin=B01M9ASFQ3&location=537))
    - **Tags:** #devops
- Put even more succinctly, as Jeffrey Immelt, CEO of General Electric, stated, “Every industry and company that is not bringing software to the core of their business will be disrupted.” ([Location 541](https://readwise.io/to_kindle?action=open&asin=B01M9ASFQ3&location=541))
    - **Tags:** #favorite
- The term “technical debt” was first coined by Ward Cunningham. Analogous to financial debt, technical debt describes how decisions we make lead to problems that get increasingly more difficult to fix over time, continually reducing our available options in the future—even when taken on judiciously, we still incur interest. ([Location 558](https://readwise.io/to_kindle?action=open&asin=B01M9ASFQ3&location=558))
- every company is a technology company, whether they know it or not. ([Location 604](https://readwise.io/to_kindle?action=open&asin=B01M9ASFQ3&location=604))
- Many psychologists assert that creating systems that cause feelings of powerlessness is one of the most damaging things we can do to fellow human beings—we deprive other people of their ability to control their own outcomes and even create a culture where people are afraid to do the right thing because of fear of punishment, failure, or jeopardizing their livelihood. ([Location 621](https://readwise.io/to_kindle?action=open&asin=B01M9ASFQ3&location=621))
- In addition to the human suffering that comes with the current way of working, the opportunity cost of the value that we could be creating is staggering—the authors believe that we are missing out on approximately $2.6 trillion of value creation per year, which is, at the time of this writing, equivalent to the annual economic output of France, the sixth-largest economy in the world. ([Location 627](https://readwise.io/to_kindle?action=open&asin=B01M9ASFQ3&location=627))
- By solving these problems, DevOps astonishingly enables us to simultaneously improve organizational performance, achieve the goals of all the various functional technology roles (e.g., Development, QA, IT Operations, Infosec), and improve the human condition. ([Location 637](https://readwise.io/to_kindle?action=open&asin=B01M9ASFQ3&location=637))
- By creating fast feedback loops at every step of the process, everyone can immediately see the effects of their actions. Whenever changes are committed into version control, fast automated tests are run in production-like environments, giving continual assurance that the code and environments operate as designed and are always in a secure and deployable state. ([Location 646](https://readwise.io/to_kindle?action=open&asin=B01M9ASFQ3&location=646))
- Even high-profile product and feature releases become routine by using dark launch techniques. Long before the launch date, we put all the required code for the feature into production, invisible to everyone except internal employees and small cohorts of real users, allowing us to test and evolve the feature until it achieves the desired business goal. ([Location 657](https://readwise.io/to_kindle?action=open&asin=B01M9ASFQ3&location=657))
- Furthermore, everyone is constantly learning, fostering a hypothesis-driven culture where the scientific method is used to ensure nothing is taken for granted—we do nothing without measuring and treating product development and process improvement as experiments. ([Location 664](https://readwise.io/to_kindle?action=open&asin=B01M9ASFQ3&location=664))
- Instead of a culture of fear, we have a high-trust, collaborative culture, where people are rewarded for taking risks. ([Location 671](https://readwise.io/to_kindle?action=open&asin=B01M9ASFQ3&location=671))
    - **Tags:** #favorite
- And when something does go wrong, we conduct blameless post-mortems, not to punish anyone, but to better understand what caused the accident and how to prevent it. ([Location 677](https://readwise.io/to_kindle?action=open&asin=B01M9ASFQ3&location=677))
- Because we care about quality, we even inject faults into our production environment so we can learn how our system fails in a planned manner. We conduct planned exercises to practice large-scale failures, randomly kill processes and compute servers in production, and inject network latencies and other nefarious acts to ensure we grow ever more resilient. By doing this, we enable better resilience, as well as organizational learning and improvement. ([Location 679](https://readwise.io/to_kindle?action=open&asin=B01M9ASFQ3&location=679))
- Furthermore, high performers were twice as likely to exceed profitability, market share, and productivity goals. ([Location 699](https://readwise.io/to_kindle?action=open&asin=B01M9ASFQ3&location=699))
- One of the fundamental concepts in Lean is the value stream. ([Location 865](https://readwise.io/to_kindle?action=open&asin=B01M9ASFQ3&location=865))
- In DevOps, we typically define our technology value stream as the process required to convert a business hypothesis into a technology-enabled service that delivers value to the customer. ([Location 876](https://readwise.io/to_kindle?action=open&asin=B01M9ASFQ3&location=876))
- The input to our process is the formulation of a business objective, concept, idea, or hypothesis, and starts when we accept the work in Development, adding it to our committed backlog of work. ([Location 877](https://readwise.io/to_kindle?action=open&asin=B01M9ASFQ3&location=877))
- Because value is created only when our services are running in production, we must ensure that we are not only delivering fast flow, but that our deployments can also be performed without causing chaos and disruptions such as service outages, service impairments, or security or compliance failures. ([Location 881](https://readwise.io/to_kindle?action=open&asin=B01M9ASFQ3&location=881))
- For the remainder of this book, our attention will be on deployment lead time, a subset of the value stream described above. This value stream begins when any engineer*** in our value stream (which includes Development, QA, IT Operations, and Infosec) checks a change in to version control and ends when that change is successfully running in production, providing value to the customer and generating useful feedback and telemetry. ([Location 883](https://readwise.io/to_kindle?action=open&asin=B01M9ASFQ3&location=883))
- efficiency—achieving fast flow and short lead times almost always requires reducing the time our work is waiting in queues. ([Location 904](https://readwise.io/to_kindle?action=open&asin=B01M9ASFQ3&location=904))
- The First Way enables fast left-to-right flow of work from Development to Operations to the customer. In order to maximize flow, we need to make work visible, reduce our batch sizes and intervals of work, build in quality by preventing defects from being passed to downstream work centers, and constantly optimize for the global goals. ([Location 930](https://readwise.io/to_kindle?action=open&asin=B01M9ASFQ3&location=930))
- The Second Way enables the fast and constant flow of feedback from right to left at all stages of our value stream. It requires that we amplify feedback to prevent problems from happening again, or enable faster detection and recovery. ([Location 939](https://readwise.io/to_kindle?action=open&asin=B01M9ASFQ3&location=939))
- The Third Way enables the creation of a generative, high-trust culture that supports a dynamic, disciplined, and scientific approach to experimentation and risk-taking, facilitating the creation of organizational learning, both from our successes and failures. ([Location 945](https://readwise.io/to_kindle?action=open&asin=B01M9ASFQ3&location=945))
- We increase flow by making work visible, by reducing batch sizes and intervals of work, and by building quality in, preventing defects from being passed to downstream work centers. ([Location 969](https://readwise.io/to_kindle?action=open&asin=B01M9ASFQ3&location=969))
- Furthermore, we can measure lead time from when a card is placed on the board to when it is moved into the “Done” column. ([Location 988](https://readwise.io/to_kindle?action=open&asin=B01M9ASFQ3&location=988))
- Work is not done when Development completes the implementation of a feature—rather, it is only done when our application is running successfully in production, delivering value to the customer. ([Location 989](https://readwise.io/to_kindle?action=open&asin=B01M9ASFQ3&location=989))
    - **Tags:** #favorite
- Dominica DeGrandis, one of the leading experts on using kanbans in DevOps value streams, notes that “controlling queue size [WIP] is an extremely powerful management tool, as it is one of the few leading indicators of lead time—with most work items, we don’t know how long it will take until it’s actually completed.” ([Location 1010](https://readwise.io/to_kindle?action=open&asin=B01M9ASFQ3&location=1010))
- Limiting WIP also makes it easier to see problems that prevent the completion of work.† For instance, when we limit WIP, we find that we may have nothing to do because we are waiting on someone else. Although it may be tempting to start new work (i.e., “It’s better to be doing something than nothing”), a far better action would be to find out what is causing the delay and help fix that problem. ([Location 1012](https://readwise.io/to_kindle?action=open&asin=B01M9ASFQ3&location=1012))
- Lean Thinking: Banish Waste and Create Wealth in Your Corporation ([Location 1028](https://readwise.io/to_kindle?action=open&asin=B01M9ASFQ3&location=1028))
- Small batch sizes result in less WIP, faster lead times, faster detection of errors, and less rework. ([Location 1045](https://readwise.io/to_kindle?action=open&asin=B01M9ASFQ3&location=1045))
- The equivalent to single piece flow in the technology value stream is realized with continuous deployment, where each change committed to version control is integrated, tested, and deployed into production. ([Location 1054](https://readwise.io/to_kindle?action=open&asin=B01M9ASFQ3&location=1054))
- To mitigate these types of problems, we strive to reduce the number of handoffs, either by automating significant portions of the work or by reorganizing teams so they can deliver value to the customer themselves instead of having to be constantly dependent on others. ([Location 1069](https://readwise.io/to_kindle?action=open&asin=B01M9ASFQ3&location=1069))
- Environment creation: We cannot achieve deployments on-demand if we always have to wait weeks or months for production or test environments. The countermeasure is to create environments that are on demand and completely self-serviced, so that they are always available when we need them. ([Location 1085](https://readwise.io/to_kindle?action=open&asin=B01M9ASFQ3&location=1085))
    - **Tags:** #favorite
- Code deployment: We cannot achieve deployments on demand if each of our production code deployments take weeks or months to perform (i.e., each deployment requires 1,300 manual, error-prone steps involving up to three hundred engineers). The countermeasure is to automate our deployments as much as possible, with the goal of being completely automated so they can be done self-service by any developer. ([Location 1087](https://readwise.io/to_kindle?action=open&asin=B01M9ASFQ3&location=1087))
- More modern interpretations of Lean have noted that “eliminating waste” can have a demeaning and dehumanizing context; instead, the goal is reframed to reduce hardship and drudgery in our daily work through continual learning in order to achieve the organization’s goals. ([Location 1107](https://readwise.io/to_kindle?action=open&asin=B01M9ASFQ3&location=1107))
- Motion waste can be created when people who need to communicate frequently are not colocated. ([Location 1124](https://readwise.io/to_kindle?action=open&asin=B01M9ASFQ3&location=1124))
- Our goal is to create an ever safer and more resilient system of work. ([Location 1151](https://readwise.io/to_kindle?action=open&asin=B01M9ASFQ3&location=1151))
- We do this by creating feedback and feedforward loops into our system of work. ([Location 1186](https://readwise.io/to_kindle?action=open&asin=B01M9ASFQ3&location=1186))
- This includes the creation of automated build, integration, and test processes so that we can immediately detect when a change has been introduced that takes us out of a correctly functioning and deployable state. ([Location 1199](https://readwise.io/to_kindle?action=open&asin=B01M9ASFQ3&location=1199))
- To enable fast feedback in the technology value stream, we must create the equivalent of an Andon cord and the related swarming response. This requires that we also create the culture that makes it safe, and even encouraged, to pull the Andon cord when something goes wrong, whether it is when a production incident occurs or when errors occur earlier in the value stream, such as when someone introduces a change that breaks our continuous build or test processes. ([Location 1234](https://readwise.io/to_kindle?action=open&asin=B01M9ASFQ3&location=1234))
- Examples of ineffective quality controls include: Requiring another team to complete tedious, error-prone, and manual tasks that could be easily automated and run as needed by the team who needs the work performed Requiring approvals from busy people who are distant from the work, forcing them to make decisions without an adequate knowledge of the work or the potential implications, or to merely rubber stamp their approvals ([Location 1252](https://readwise.io/to_kindle?action=open&asin=B01M9ASFQ3&location=1252))
- And, either subtly or explicitly, management hints that the person guilty of committing the error will be punished. They then create more processes and approvals to prevent the error from happening again. ([Location 1324](https://readwise.io/to_kindle?action=open&asin=B01M9ASFQ3&location=1324))
- In the technology value stream, we establish the foundations of a generative culture by striving to create a safe system of work. ([Location 1344](https://readwise.io/to_kindle?action=open&asin=B01M9ASFQ3&location=1344))
- We improve daily work by explicitly reserving time to pay down technical debt, fix defects, and refactor and improve problematic areas of our code and environments—we do this by reserving cycles in each development interval or by scheduling kaizen blitzes, which are periods when engineers self-organize into teams to work on fixing any problem they want. ([Location 1361](https://readwise.io/to_kindle?action=open&asin=B01M9ASFQ3&location=1361))
- In the technology value stream, we can introduce the same type of tension into our systems by seeking to always reduce deployment lead times, increase test coverage, decrease test execution times, and even by re-architecting if necessary to increase developer productivity or increase reliability. ([Location 1411](https://readwise.io/to_kindle?action=open&asin=B01M9ASFQ3&location=1411))
- Indeed, one of the findings in the 2015 State of DevOps Report validated that the age of the application was not a significant predictor of performance; instead, what predicted performance was whether the application was architected (or could be re-architected) for testability and deployability. ([Location 1557](https://readwise.io/to_kindle?action=open&asin=B01M9ASFQ3&location=1557))
- Furthermore, because of how interdependent our systems are, our ability to make changes to any of these systems is limited by the system that is most difficult to safely change, which is almost always a system of record. ([Location 1587](https://readwise.io/to_kindle?action=open&asin=B01M9ASFQ3&location=1587))
- In other words, how we organize our teams has a powerful effect on the software we produce, as well as our resulting architectural and production outcomes. In order to get fast flow of work from ([Location 1899](https://readwise.io/to_kindle?action=open&asin=B01M9ASFQ3&location=1899))
- Broadly speaking, to achieve DevOps outcomes, we need to reduce the effects of functional orientation (“optimizing for cost”) and enable market orientation (“optimizing for speed”) so we can have many small teams working safely and independently, quickly delivering value to the customer. ([Location 1976](https://readwise.io/to_kindle?action=open&asin=B01M9ASFQ3&location=1976))
- Taken to the extreme, market-oriented teams are responsible not only for feature development, but also for testing, securing, deploying, and supporting their service in production, from idea conception to retirement. These teams are designed to be cross-functional and independent—able to design and run user experiments, build and deliver new features, deploy and run their service in production, and fix any defects without manual dependencies on other teams, thus enabling them to move faster. This model has been adopted by Amazon and Netflix and is touted by Amazon as one of the primary reasons behind their ability to move fast even as they grow. ([Location 1978](https://readwise.io/to_kindle?action=open&asin=B01M9ASFQ3&location=1978))
- To achieve market orientation, we won’t do a large, top-down reorganization, which often creates large amounts of disruption, fear, and paralysis. Instead, we will embed the functional engineers and skills (e.g., Ops, QA, Infosec) into each service team, or provide their capabilities to teams through automated self-service platforms that provide production-like environments, initiate automated tests, or perform deployments. ([Location 1982](https://readwise.io/to_kindle?action=open&asin=B01M9ASFQ3&location=1982))
- When departments over-specialize, it causes siloization, which Dr. Spear describes as when departments “operate more like sovereign states.” ([Location 2026](https://readwise.io/to_kindle?action=open&asin=B01M9ASFQ3&location=2026))
